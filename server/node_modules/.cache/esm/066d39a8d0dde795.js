let formatErrors,requiresAuth;_d0d‍.x([["default",()=>_d0d‍.o]]);_d0d‍.w("../formatErrors",[["default",["formatErrors"],function(v){formatErrors=v}]]);_d0d‍.w("../permissions",[["default",["requiresAuth"],function(v){requiresAuth=v}]]);



_d0d‍.d({
  Query: {
   allTeams: createResolver(async (parent, args, { models, user }) =>
     models.Team.findAll({ owner: user.id }, { raw: true })),
 },

  Mutation: {
    createTeam: requiresAuth.createResolver(async(parent, args, {models, user}) => {
      try {
        await models.Team.create({...args, owner: user.id});
        return {
          ok: true,
        }
      } catch (err) {
        _d0d‍.g.console.log(err)
        return {
          ok: false,
          errors: formatErrors(err)
        };
      }
    })
  }
});
