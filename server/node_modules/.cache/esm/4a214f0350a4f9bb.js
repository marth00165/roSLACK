let makeExecutableSchema,path,fileLoader,mergeTypes,mergeResolvers,models;_50a‍.w("graphql-tools",[["makeExecutableSchema",["makeExecutableSchema"],function(v){makeExecutableSchema=v}]]);_50a‍.w("path",[["default",["path"],function(v){path=v}]]);_50a‍.w("merge-graphql-schemas",[["fileLoader",["fileLoader"],function(v){fileLoader=v}],["mergeTypes",["mergeTypes"],function(v){mergeTypes=v}],["mergeResolvers",["mergeResolvers"],function(v){mergeResolvers=v}]]);_50a‍.w("./models",[["default",["models"],function(v){models=v}]]);const express = require('express');
const { ApolloServer, gql} = require('apollo-server-express');




const types = fileLoader(path.join(__dirname, './schema'));
const resolversArray = fileLoader(path.join(__dirname, './resolvers'));

const typeDefs = mergeTypes(types);



const resolvers = mergeResolvers(resolversArray);




const PORT = 8081;
const app = express();





const schema = makeExecutableSchema({
  typeDefs,
  resolvers,
});

const graphqlEndpoint = '/graphql';






const server = new ApolloServer({
  schema,
  context: {
    models,


  }


 });
server.applyMiddleware({ app });

models.sequelize.sync({force: true}).then(() => {
  app.listen({ port: PORT }, () =>
    console.log(`🚀 Server ready at http://localhost:8081${graphqlEndpoint}`)
  )
})
